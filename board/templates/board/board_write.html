{% extends 'base.html' %}
{% load static %}
{% block title %}NoPainNoGame Board Detail{% endblock %}
{% block style %}
<script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>
<link rel="stylesheet" href="{% static 'css/button.css' %}">
<style>
    body{
        line-height: 1;
    }
    h1{
        line-height: 1;
        font-weight: bold;
    }
    a:hover{
        text-decoration: none;
        color: #F6F1EBFF;
    }
    .container{
        display: flex;
        justify-content: space-between;
        padding-top: 50px;
        padding-bottom: 80px;
    }
    .post_detail{
        width: 900px;
        margin: 0 auto;
    }
    .post_detail .title{
        font-size: 30px;
        font-weight: bold;
        margin: 0;
        border: 0;
        width: 100%;
    }
    input::placeholder{
        color: lightgray;
    }
    textarea{
        width: 100%;
        min-height: 300px;
        font-size: 15px;
    }
    .edit_div{
        text-align: right;
    }
    select{
        padding: 5px;
        border-color: gray;
    }

    /*버튼 css*/
    .btn[type='submit']{
        position: relative;
        border: 0;
        padding: 3px;
        width: 50px;
        height: 25px;
        text-align: center;
        color: white;
        font-weight: 600;
        font-size: 12px;
        border-radius: 3px;
        cursor: pointer;
    }
    .btn[type='submit']:active{
        bottom: -4px;
    }
    input[type='radio']{
        display: none;
    }
</style>
{% endblock %}
{% block script %}
<script>
$(document).ready(function() {
    $('select[name=category]').change(function () {
        category = $('select[name=category]').val();
    });
    $('#summernote').summernote({
        placeholder: '내용을 입력하세요.',
        tabsize: 2,
        height: 450
    });
});
</script>
{% endblock %}
{% block content %}
<form method="POST" class="post_detail" action="{% url 'board:board_write_post' %}">
{% csrf_token %}
    {% if request.GET.result == 'c_fail' %}
    <p style="color: red; margin:0;">내용을 입력하세요</p>
    {% elif request.GET.result == 't_fail' %}
    <p style="color: red; margin:0;">제목을 입력하세요</p>
    {% endif %}
    <input type="text" class="title" autocomplete="off" placeholder="제목을 입력하세요." name="pn">
    <hr>
    <p><span style="display: inline-block; width: 90px;">작성자</span><strong>{{i.member_id}}</strong></p>
    <hr>
    <p><span style="display: inline-block; width: 90px;">카테고리</span>
        <select name="category">
            {% for pt in p_types %}
                {% if i.type_id_id|stringformat:"i" == pt.p_type|stringformat:"i"  %}<option value="{{pt.p_type}}" selected>{% else %}<option value="{{pt.p_type}}">{% endif %}
                    {% if pt.p_type == '1' %}
                    날쌘돌이 구름이{% elif pt.p_type == '2' %}
                    심플프리덤 감자{% elif pt.p_type == '3' %}
                    두뇌풀가동 전사{% elif pt.p_type == '4' %}
                    재기발랄 모험가{% endif %}
                </option>
            {% endfor %}
        </select>
    </p>
    <hr>
    <textarea id="summernote" placeholder="내용을 입력하세요." cols=40 rows=10 name="c"></textarea>
    <br>
    <br>
    <div style="text-align: right;"><input class="btn blue rounded" type="submit" value="글쓰기"></div>
</form>
{% endblock %}